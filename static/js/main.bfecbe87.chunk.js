(this["webpackJsonptodo-app"]=this["webpackJsonptodo-app"]||[]).push([[0],{52:function(e,t,a){e.exports=a(66)},57:function(e,t,a){},65:function(e,t,a){},66:function(e,t,a){"use strict";a.r(t);var n=a(0),o=a.n(n),r=a(23),l=a.n(r),c=(a(57),a(50)),i=a(5),u=o.a.createContext(),s=a(6),d=a(79),m=a(68),p=a(16),f=a.n(p),E=a(27),O="https://jsonplaceholder.typicode.com/todos",b={getTodos:function(){return Object(E.a)(f.a.mark((function e(){var t,a;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(O,"?_limit=5"));case 2:return t=e.sent,e.next=5,t.json();case 5:return a=e.sent,e.abrupt("return",a);case 7:case"end":return e.stop()}}),e)})))()},deleteTodo:function(e){return Object(E.a)(f.a.mark((function t(){var a;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("".concat(O,"/").concat(e),{method:"DELETE"});case 2:return a=t.sent,t.abrupt("return",a.ok);case 4:case"end":return t.stop()}}),t)})))()},addTodo:function(e){return Object(E.a)(f.a.mark((function t(){var a;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch(O,{method:"POST",body:JSON.stringify(e),headers:{"Content-type":"application/json; charset=UTF-8"}});case 2:return a=t.sent,t.abrupt("return",a.ok);case 4:case"end":return t.stop()}}),t)})))()},editTodo:function(e){return Object(E.a)(f.a.mark((function t(){var a;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("".concat(O,"/").concat(e.id),{method:"PUT",body:JSON.stringify(e),headers:{"Content-type":"application/json; charset=UTF-8"}});case 2:return a=t.sent,t.abrupt("return",a.ok);case 4:case"end":return t.stop()}}),t)})))()}},v=function(e){return{type:"form/SET_NEWTODO_VALUE",payload:e}},h=function(e){return{type:"form/SET_FIND_VALUE",payload:e}},T=function(e){return{type:"form/SET_FILTER_VALUE",payload:e}},y=function(e){return{type:"alert/SHOW_ALERT",payload:e}},j={li:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"10px",padding:"20px",fontSize:"20px",border:"1px solid #ccc",borderRadius:"5px"},span:{display:"flex",justifyContent:"center",alignItems:"center"},input:{width:"25px",height:"25px",margin:"0 10px 0 0"}};var x=function(e){var t=e.todo,a=e.index,r=Object(n.useContext)(u).dispatch,l=[],c=Object(s.f)();return t.completed&&l.push("done"),o.a.createElement(d.a.Item,{style:j.li,variant:"secondary",className:"todo-item",onClick:function(e){return function(e){e.target.classList.contains("todo-item")&&c.push("/"+t.id)}(e)}},o.a.createElement("span",{className:l.join(" "),style:j.span},o.a.createElement("input",{type:"checkbox",style:j.input,checked:t.completed,onChange:function(){return function(e){var t=Object(i.a)(Object(i.a)({},e),{},{completed:!e.completed});b.editTodo(t).then((function(t){t&&r({type:"todos/TOGGLE_TODO",payload:e.id})}))}(t)}}),o.a.createElement("strong",null,a+1,"."),"\xa0",t.title),o.a.createElement(m.a,{className:"remove-btn",variant:"danger",onClick:function(){b.deleteTodo(t.id).then((function(e){e&&(r({type:"todos/REMOVE_TODO",payload:t.id}),r(y("remove")))}))}},"\xd7"))};var g=function(e){return o.a.createElement(d.a,null,e.todos.map((function(e,t){return o.a.createElement(x,{todo:e,key:e.id,index:t})})))},N=a(73),k=a(69),_=a(45);var D=function(){var e=Object(n.useContext)(u),t=e.state,a=e.dispatch,r=function(e,t){return{bind:{value:e.addTodoValue,onChange:function(e){return t(v(e.target.value))}},clear:function(){return t(v(""))},value:function(){return e.addTodoValue}}}(t,a),l=Object(n.useRef)(null);return o.a.createElement(N.a,{onSubmit:function(e){if(e.preventDefault(),r.value().trim()){var t={id:Date.now(),completed:!1,title:r.value()};b.addTodo(t).then((function(e){e&&(a({type:"todos/ADD_TODO",payload:t}),a(h("")),a(T("all")),a({type:"todos/FILTER_TODO"}),a(y("add")))})),r.clear()}else l.current.focus()}},o.a.createElement(k.a,{className:"mb-3"},o.a.createElement(_.a,Object.assign({className:"add-todo-input",ref:l},r.bind)),o.a.createElement(k.a.Append,null,o.a.createElement(m.a,{type:"submit",variant:"secondary",className:"add-todo-btn"},"Add Todo"))))};a(65);var V=function(){return o.a.createElement("div",{className:"loadingio-spinner-spinner-wg4s9mzo1k"},o.a.createElement("div",{className:"ldio-enyzatthhyk"},o.a.createElement("div",null),o.a.createElement("div",null),o.a.createElement("div",null),o.a.createElement("div",null),o.a.createElement("div",null),o.a.createElement("div",null),o.a.createElement("div",null),o.a.createElement("div",null),o.a.createElement("div",null),o.a.createElement("div",null),o.a.createElement("div",null),o.a.createElement("div",null)))},C=a(41),w=function(e,t){var a=t.type,n=t.payload;switch(a){case"app/SET_LOADING":return Object(i.a)(Object(i.a)({},e),{},{loading:n});case"todos/GET_TODOS":return Object(i.a)(Object(i.a)({},e),{},{todos:n,filteredTodos:n});case"todos/ADD_TODO":return Object(i.a)(Object(i.a)({},e),{},{todos:[].concat(Object(C.a)(e.todos),[Object(i.a)({},n)])});case"todos/REMOVE_TODO":return Object(i.a)(Object(i.a)({},e),{},{todos:e.todos.filter((function(e){return e.id!==n})),filteredTodos:e.filteredTodos.filter((function(e){return e.id!==n}))});case"todos/TOGGLE_TODO":return Object(i.a)(Object(i.a)({},e),{},{todos:e.todos.map((function(e){return e.id===n&&(e.completed=!e.completed),e}))});case"SET_MODAL":return Object(i.a)(Object(i.a)({},e),{},{modalOpened:n});case"form/SET_NEWTODO_VALUE":return Object(i.a)(Object(i.a)({},e),{},{addTodoValue:n});case"form/SET_FIND_VALUE":return Object(i.a)(Object(i.a)({},e),{},{findTodoValue:n});case"form/SET_FILTER_VALUE":return Object(i.a)(Object(i.a)({},e),{},{filterValue:n});case"todos/FILTER_TODO":return Object(i.a)(Object(i.a)({},e),{},{filteredTodos:e.todos.filter((function(t){return"all"===e.filterValue?t.title.includes(e.findTodoValue):"current"===e.filterValue?!t.completed&&t.title.includes(e.findTodoValue):"done"===e.filterValue?t.completed&&t.title.includes(e.findTodoValue):t}))});case"alert/SHOW_ALERT":return Object(i.a)(Object(i.a)({},e),{},{alerts:[].concat(Object(C.a)(e.alerts),[{id:Date.now(),type:n}])});case"alert/REMOVE_ALERT":return Object(i.a)(Object(i.a)({},e),{},{alerts:e.alerts.filter((function(e){return e.id!==n}))})}},L=a(19),A=a(70),S=a(71);var R=function(){return o.a.createElement(A.a,null,o.a.createElement(S.a,null,o.a.createElement("h1",null,"This is about page!"),o.a.createElement("p",null,"Consequatur quos rerum aut molestiae non nobis ratione voluptas. Quis odio nemo qui esse. Sint vel in voluptas. Nisi est nulla. Voluptatem officiis rerum ea id blanditiis nostrum sequi veniam pariatur. Et consequatur voluptatem adipisci quaerat perferendis autem. Dolorem aut est aut occaecati omnis velit. Aut assumenda amet eos sed aut. Sapiente quod iste sit est soluta nesciunt rerum. Nam inventore pariatur exercitationem sit dicta. Unde ex et earum quia. Eaque aut officiis consequatur quo fuga enim voluptate. Molestiae molestiae omnis. Et esse qui nisi exercitationem.")))};var I=function(e){var t=e.todos,a=Object(s.g)().id,n=t.filter((function(e){return e.id===+a}))[0],r=Object(s.f)();return o.a.createElement(A.a,{className:"text-center"},o.a.createElement(S.a,null,o.a.createElement("h2",null,"Todo id: ",a),o.a.createElement("h3",null," ",n.title," "),o.a.createElement(m.a,{variant:"primary",className:"mt-4",onClick:function(){r.push("/")}},"Go back")))};var q=function(){var e=Object(n.useContext)(u),t=e.state,a=e.dispatch;return o.a.createElement(N.a,null,o.a.createElement(N.a.Group,null,o.a.createElement(N.a.Control,{type:"text",placeholder:"Find todo",value:t.findTodoValue,onChange:function(e){return function(e){a(h(e.target.value)),a({type:"todos/FILTER_TODO"})}(e)}})))};var F=function(){var e=Object(n.useContext)(u),t=e.state,a=e.dispatch;function r(e){a(T(e.target.value)),a({type:"todos/FILTER_TODO"})}return o.a.createElement(N.a,{className:"todo-filter-wrap mb-3"},o.a.createElement(N.a.Check,{inline:!0,label:"All",type:"radio",className:"flex-column-reverse",id:"todo-all",value:"all",checked:"all"===t.filterValue,onChange:function(e){return r(e)}}),o.a.createElement(N.a.Check,{inline:!0,label:"In progress",type:"radio",className:"flex-column-reverse",id:"todo-current",value:"current",checked:"current"===t.filterValue,onChange:function(e){return r(e)}}),o.a.createElement(N.a.Check,{inline:!0,label:"Done",type:"radio",className:"flex-column-reverse",id:"todo-done",value:"done",checked:"done"===t.filterValue,onChange:function(e){return r(e)}}))},G=a(72),U=a(46),M=a(75),W=a(76),B=function(){var e=Object(s.f)();return o.a.createElement(M.a,{bg:"light",className:"justify-content-between mb-5"},o.a.createElement(M.a.Brand,{className:"text-primary font-weight-bold",onClick:function(){e.push("/")}},"My Todo App"),o.a.createElement(W.a,{className:"mr-sm-2"},o.a.createElement(L.b,{exact:!0,to:"/",className:"nav-link"},"Todo"),o.a.createElement(L.b,{exact:!0,to:"/about",className:"nav-link"},"About")))},z=a(78),J=a(77),H=a(74),P=function(e){var t,a=e.id,r=e.type,l=Object(n.useContext)(u).dispatch;switch(r){case"add":t="todo added!";break;case"remove":t="todo removed!";break;default:t=""}return o.a.createElement(H.a,{autohide:!0,delay:3e3,animation:!1,onClose:function(){l({type:"alert/REMOVE_ALERT",payload:a})},className:"todo-alert",style:{minWidth:"150px"}},o.a.createElement(H.a.Header,null,o.a.createElement("strong",{className:"mr-auto"},"Todo app")),o.a.createElement(H.a.Body,null,t))},Q=function(){var e=Object(n.useContext)(u).state;return o.a.createElement("div",{style:{position:"absolute",top:"80px",right:"10px",zIndex:10}},o.a.createElement(z.a,{component:null},e.alerts.map((function(e,t){return o.a.createElement(J.a,{key:e.id,timeout:{enter:300},classNames:"todo-alert"},o.a.createElement(P,{id:e.id,type:e.type}))}))))};var $=function(){var e=Object(n.useReducer)(w,{todos:[],filteredTodos:[],loading:!0,modalOpened:!1,addTodoValue:"",findTodoValue:"",filterValue:"all",alerts:[]}),t=Object(c.a)(e,2),a=t[0],r=t[1];return Object(n.useEffect)((function(){b.getTodos().then((function(e){setTimeout((function(){r({type:"todos/GET_TODOS",payload:e}),r(function(e){return{type:"app/SET_LOADING",payload:e}}(!1))}),1e3)}))}),[]),o.a.createElement(L.a,{basename:"/todo-app"},o.a.createElement(B,null),o.a.createElement(s.c,null,o.a.createElement(s.a,{exact:!0,path:"/"},o.a.createElement(u.Provider,{value:{state:a,dispatch:r}},o.a.createElement(A.a,{fluid:"md",className:"text-center"},o.a.createElement(Q,null),o.a.createElement(G.a,null,o.a.createElement(U.a,null,o.a.createElement(F,null))),o.a.createElement(G.a,null,o.a.createElement(U.a,null,o.a.createElement(q,null))),o.a.createElement(G.a,null,o.a.createElement(U.a,null,o.a.createElement(D,null))),o.a.createElement(G.a,null,o.a.createElement(U.a,null,a.loading&&o.a.createElement(V,null),a.filteredTodos.length?o.a.createElement(g,{todos:a.filteredTodos}):a.loading?"":o.a.createElement("h3",null,"No todos found!")))))),o.a.createElement(s.a,{exact:!0,path:"/about"},o.a.createElement(R,null)),o.a.createElement(s.a,{path:"/:id"},o.a.createElement(I,{todos:a.filteredTodos}))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(o.a.createElement($,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[52,1,2]]]);
//# sourceMappingURL=main.bfecbe87.chunk.js.map