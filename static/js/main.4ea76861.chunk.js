(this["webpackJsonptodo-app"]=this["webpackJsonptodo-app"]||[]).push([[0],{52:function(e,t,a){e.exports=a(66)},57:function(e,t,a){},65:function(e,t,a){},66:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(23),l=a.n(o),c=(a(57),a(50)),i=a(5),u=r.a.createContext(),s=a(6),d=a(79),m=a(68),p=a(16),E=a.n(p),f=a(27),O="https://jsonplaceholder.typicode.com/todos",b={getTodos:function(){return Object(f.a)(E.a.mark((function e(){var t,a;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(O,"?_limit=5"));case 2:return t=e.sent,e.next=5,t.json();case 5:return a=e.sent,e.abrupt("return",a);case 7:case"end":return e.stop()}}),e)})))()},deleteTodo:function(e){return Object(f.a)(E.a.mark((function t(){var a;return E.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("".concat(O,"/").concat(e),{method:"DELETE"});case 2:return a=t.sent,t.abrupt("return",a.ok);case 4:case"end":return t.stop()}}),t)})))()},addTodo:function(e){return Object(f.a)(E.a.mark((function t(){var a;return E.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch(O,{method:"POST",body:JSON.stringify(e),headers:{"Content-type":"application/json; charset=UTF-8"}});case 2:return a=t.sent,t.abrupt("return",a.ok);case 4:case"end":return t.stop()}}),t)})))()},editTodo:function(e){return Object(f.a)(E.a.mark((function t(){var a;return E.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("".concat(O,"/").concat(e.id),{method:"PUT",body:JSON.stringify(e),headers:{"Content-type":"application/json; charset=UTF-8"}});case 2:return a=t.sent,t.abrupt("return",a.ok);case 4:case"end":return t.stop()}}),t)})))()}},v={li:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"10px",padding:"20px",fontSize:"20px",border:"1px solid #ccc",borderRadius:"5px"},span:{display:"flex",justifyContent:"center",alignItems:"center"},input:{width:"25px",height:"25px",margin:"0 10px 0 0"}};var T=function(e){var t=e.todo,a=e.index,o=Object(n.useContext)(u).dispatch,l=[],c=Object(s.f)();return t.completed&&l.push("done"),r.a.createElement(d.a.Item,{style:v.li,variant:"secondary",className:"todo-item",onClick:function(e){return function(e){e.target.classList.contains("todo-item")&&c.push("/"+t.id)}(e)}},r.a.createElement("span",{className:l.join(" "),style:v.span},r.a.createElement("input",{type:"checkbox",style:v.input,checked:t.completed,onChange:function(){return function(e){var t=Object(i.a)(Object(i.a)({},e),{},{completed:!e.completed});b.editTodo(t).then((function(t){t&&o({type:"TOGGLE_TODO",payload:e.id})}))}(t)}}),r.a.createElement("strong",null,a+1,"."),"\xa0",t.title),r.a.createElement(m.a,{className:"remove-btn",variant:"danger",onClick:function(){b.deleteTodo(t.id).then((function(e){e&&(o({type:"REMOVE_TODO",payload:t.id}),o({type:"SHOW_ALERT",payload:"remove"}))}))}},"\xd7"))};var h=function(e){return r.a.createElement(d.a,null,e.todos.map((function(e,t){return r.a.createElement(T,{todo:e,key:e.id,index:t})})))},y=a(73),j=a(69),x=a(45);var g=function(){var e=Object(n.useContext)(u),t=e.state,a=e.dispatch,o=function(e,t){return{bind:{value:e.addTodoValue,onChange:function(e){return t({type:"SET_NEWTODO_VALUE",payload:e.target.value})}},clear:function(){return t({type:"SET_NEWTODO_VALUE",payload:""})},value:function(){return e.addTodoValue}}}(t,a),l=Object(n.useRef)(null);return r.a.createElement(y.a,{onSubmit:function(e){if(e.preventDefault(),o.value().trim()){var t={id:Date.now(),completed:!1,title:o.value()};b.addTodo(t).then((function(e){e&&(a({type:"ADD_TODO",payload:t}),a({type:"SET_FIND_VALUE",payload:""}),a({type:"SET_FILTER_VALUE",payload:"all"}),a({type:"FILTER_TODO"}),a({type:"SHOW_ALERT",payload:"add"}))})),o.clear()}else l.current.focus()}},r.a.createElement(j.a,{className:"mb-3"},r.a.createElement(x.a,Object.assign({className:"add-todo-input",ref:l},o.bind)),r.a.createElement(j.a.Append,null,r.a.createElement(m.a,{type:"submit",variant:"secondary",className:"add-todo-btn"},"Add Todo"))))};a(65);var _=function(){return r.a.createElement("div",{className:"loadingio-spinner-spinner-wg4s9mzo1k"},r.a.createElement("div",{className:"ldio-enyzatthhyk"},r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null)))},N=a(41),k=function(e,t){var a=t.type,n=t.payload;switch(a){case"SET_LOADING":return Object(i.a)(Object(i.a)({},e),{},{loading:n});case"GET_TODOS":return Object(i.a)(Object(i.a)({},e),{},{todos:n,filteredTodos:n});case"ADD_TODO":return Object(i.a)(Object(i.a)({},e),{},{todos:[].concat(Object(N.a)(e.todos),[Object(i.a)({},n)])});case"REMOVE_TODO":return Object(i.a)(Object(i.a)({},e),{},{todos:e.todos.filter((function(e){return e.id!==n})),filteredTodos:e.filteredTodos.filter((function(e){return e.id!==n}))});case"TOGGLE_TODO":return Object(i.a)(Object(i.a)({},e),{},{todos:e.todos.map((function(e){return e.id===n&&(e.completed=!e.completed),e}))});case"SET_MODAL":return Object(i.a)(Object(i.a)({},e),{},{modalOpened:n});case"SET_NEWTODO_VALUE":return Object(i.a)(Object(i.a)({},e),{},{addTodoValue:n});case"SET_FIND_VALUE":return Object(i.a)(Object(i.a)({},e),{},{findTodoValue:n});case"SET_FILTER_VALUE":return Object(i.a)(Object(i.a)({},e),{},{filterValue:n});case"FILTER_TODO":return Object(i.a)(Object(i.a)({},e),{},{filteredTodos:e.todos.filter((function(t){return"all"===e.filterValue?t.title.includes(e.findTodoValue):"current"===e.filterValue?!t.completed&&t.title.includes(e.findTodoValue):"done"===e.filterValue?t.completed&&t.title.includes(e.findTodoValue):t}))});case"SHOW_ALERT":return Object(i.a)(Object(i.a)({},e),{},{alerts:[].concat(Object(N.a)(e.alerts),[{id:Date.now(),type:n}])});case"REMOVE_ALERT":return Object(i.a)(Object(i.a)({},e),{},{alerts:e.alerts.filter((function(e){return e.id!==n}))})}},V=a(19),D=a(70),L=a(71);var C=function(){return r.a.createElement(D.a,null,r.a.createElement(L.a,null,r.a.createElement("h1",null,"This is about page!"),r.a.createElement("p",null,"Consequatur quos rerum aut molestiae non nobis ratione voluptas. Quis odio nemo qui esse. Sint vel in voluptas. Nisi est nulla. Voluptatem officiis rerum ea id blanditiis nostrum sequi veniam pariatur. Et consequatur voluptatem adipisci quaerat perferendis autem. Dolorem aut est aut occaecati omnis velit. Aut assumenda amet eos sed aut. Sapiente quod iste sit est soluta nesciunt rerum. Nam inventore pariatur exercitationem sit dicta. Unde ex et earum quia. Eaque aut officiis consequatur quo fuga enim voluptate. Molestiae molestiae omnis. Et esse qui nisi exercitationem.")))};var w=function(e){var t=e.todos,a=Object(s.g)().id,n=t.filter((function(e){return e.id===+a}))[0],o=Object(s.f)();return r.a.createElement(D.a,{className:"text-center"},r.a.createElement(L.a,null,r.a.createElement("h2",null,"Todo id: ",a),r.a.createElement("h3",null," ",n.title," "),r.a.createElement(m.a,{variant:"primary",className:"mt-4",onClick:function(){o.push("/")}},"Go back")))};var A=function(){var e=Object(n.useContext)(u),t=e.state,a=e.dispatch;return r.a.createElement(y.a,null,r.a.createElement(y.a.Group,null,r.a.createElement(y.a.Control,{type:"text",placeholder:"Find todo",value:t.findTodoValue,onChange:function(e){return function(e){a({type:"SET_FIND_VALUE",payload:e.target.value}),a({type:"FILTER_TODO"})}(e)}})))};var S=function(){var e=Object(n.useContext)(u),t=e.state,a=e.dispatch;function o(e){a({type:"SET_FILTER_VALUE",payload:e.target.value}),a({type:"FILTER_TODO"})}return r.a.createElement(y.a,{className:"todo-filter-wrap mb-3"},r.a.createElement(y.a.Check,{inline:!0,label:"All",type:"radio",className:"flex-column-reverse",id:"todo-all",value:"all",checked:"all"===t.filterValue,onChange:function(e){return o(e)}}),r.a.createElement(y.a.Check,{inline:!0,label:"In progress",type:"radio",className:"flex-column-reverse",id:"todo-current",value:"current",checked:"current"===t.filterValue,onChange:function(e){return o(e)}}),r.a.createElement(y.a.Check,{inline:!0,label:"Done",type:"radio",className:"flex-column-reverse",id:"todo-done",value:"done",checked:"done"===t.filterValue,onChange:function(e){return o(e)}}))},R=a(72),I=a(46),F=a(75),U=a(76),q=function(){var e=Object(s.f)();return r.a.createElement(F.a,{bg:"light",className:"justify-content-between mb-5"},r.a.createElement(F.a.Brand,{className:"text-primary font-weight-bold",onClick:function(){e.push("/")}},"My Todo App"),r.a.createElement(U.a,{className:"mr-sm-2"},r.a.createElement(V.b,{exact:!0,to:"/",className:"nav-link"},"Todo"),r.a.createElement(V.b,{exact:!0,to:"/about",className:"nav-link"},"About")))},G=a(78),W=a(77),M=a(74),B=function(e){var t,a=e.id,o=e.type,l=Object(n.useContext)(u).dispatch;switch(o){case"add":t="todo added!";break;case"remove":t="todo removed!";break;default:t=""}return r.a.createElement(M.a,{autohide:!0,delay:3e3,animation:!1,onClose:function(){l({type:"REMOVE_ALERT",payload:a})},className:"todo-alert",style:{minWidth:"150px"}},r.a.createElement(M.a.Header,null,r.a.createElement("strong",{className:"mr-auto"},"Todo app")),r.a.createElement(M.a.Body,null,t))},z=function(){var e=Object(n.useContext)(u).state;return r.a.createElement("div",{style:{position:"absolute",top:"80px",right:"10px",zIndex:10}},r.a.createElement(G.a,{component:null},e.alerts.map((function(e,t){return r.a.createElement(W.a,{key:e.id,timeout:{enter:300},classNames:"todo-alert"},r.a.createElement(B,{id:e.id,type:e.type}))}))))};var H=function(){var e=Object(n.useReducer)(k,{todos:[],filteredTodos:[],loading:!0,modalOpened:!1,addTodoValue:"",findTodoValue:"",filterValue:"all",alerts:[]}),t=Object(c.a)(e,2),a=t[0],o=t[1];return Object(n.useEffect)((function(){b.getTodos().then((function(e){setTimeout((function(){o({type:"GET_TODOS",payload:e}),o({type:"SET_LOADING",payload:!1})}),1e3)}))}),[]),r.a.createElement(V.a,{basename:"/todo-app"},r.a.createElement(q,null),r.a.createElement(s.c,null,r.a.createElement(s.a,{exact:!0,path:"/"},r.a.createElement(u.Provider,{value:{state:a,dispatch:o}},r.a.createElement(D.a,{fluid:"md",className:"text-center"},r.a.createElement(z,null),r.a.createElement(R.a,null,r.a.createElement(I.a,null,r.a.createElement(S,null))),r.a.createElement(R.a,null,r.a.createElement(I.a,null,r.a.createElement(A,null))),r.a.createElement(R.a,null,r.a.createElement(I.a,null,r.a.createElement(g,null))),r.a.createElement(R.a,null,r.a.createElement(I.a,null,a.loading&&r.a.createElement(_,null),a.filteredTodos.length?r.a.createElement(h,{todos:a.filteredTodos}):a.loading?"":r.a.createElement("h3",null,"No todos found!")))))),r.a.createElement(s.a,{exact:!0,path:"/about"},r.a.createElement(C,null)),r.a.createElement(s.a,{path:"/:id"},r.a.createElement(w,{todos:a.filteredTodos}))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(r.a.createElement(H,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[52,1,2]]]);
//# sourceMappingURL=main.4ea76861.chunk.js.map